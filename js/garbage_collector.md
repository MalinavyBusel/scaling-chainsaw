Стек - хранит контексты ф-й. Хранятся примитивы
Куча - что-то, что не имеет фиксированного размера. Обычно доступно по ссылке


Так как стек самоочищается, то сборщик мусора работает в куче. Он начинает с корневого объекта, и проходит по всем
ссылкам в нём. Те объекты, до которых он не дошёл, он удаляет.

Куча в V8 делится на 4 сегмента:
- New Space (молодое поколение) - Этот сегмент кучи предназначен для размещения большинства вновь созданных объектов. Он имеет небольшой размер, но его объекты часто собираются сборщиком мусора, так как многие объекты умирают молодыми
- Old Space (старое поколение) - Этот сегмент кучи предназначен для размещения объектов, которые пережили несколько сборок мусора в New Space. Так как объекты здесь реже удаляются, сборка мусора здесь происходит реже и обычно занимает больше времени.
- Large Object Space - Этот сегмент кучи предназначен для размещения больших объектов, размеры которых превышают предельно допустимый размер для размещения в New Space.
- Code Object Space - Этот сегмент кучи предназначен для размещения объектов кода, содержащих JIT-инструкции. Это единственное пространство с исполняемой памятью (хотя коды могут быть размещены в пространстве больших объектов, и они тоже будут являться исполняемыми).

Сама сборка в V8 проходит в 2 этапа:
- Minor GC (scavenge algorithm) - собирает мусор в New Space кучи. Запускается, когда newSpace(16мб) заполняется. Stop the world
- Major GC (mark-sweep-compact algorithm) - сборщик мусора, который собирает мусор из всей кучи. Не Stop the world